{% extends 'website/base.html' %}

{% block content %}

<br>
<h5>Welcome to the Game review board</h5>
<hr>

<table class="table table-dark table-hover table-bordered">
    <thead class="table-primary">
        <tr>
            <th scope="col"> ID</th>
            <th scope="col"> GameName</th>
            <th scope="col"> Rating</th>


        </tr>
    </thead>
    <tbody>
        {% if data %}         
            {% for row in data %}
            <tr>
                <td>{{row.id}}</td>
                <td>{{row.game_name}}</td>
                <td>{{row.rating}}</td>



            </tr>   
            {% endfor %}
        {% endif %}    




    </tbody>
    <!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<body>

<canvas id="myChart" style="width:100%;max-width:600px"></canvas>

<script>

const barColors = ["red", "green","blue","orange","brown"];

new Chart("myChart", {
  type: "bar",
  data: {
    labels: [{% for row in data %} '{{row.game_name}}', {% endfor %}],
    datasets: [{
      backgroundColor: barColors,
      data: [{% for row in data %} '{{row.rating}}', {% endfor %}]
    }]
  },
  options: {
    legend: {display: false},
    title: {
      display: true,
      text: "Game Review Board"
    }
  }
});
</script>

</body>
</html>

</table>


{% endblock %}